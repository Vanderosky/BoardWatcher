#pragma checksum "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "b0c5d2a7550964a599f81c9d3d021d9d5e4df108"
// <auto-generated/>
#pragma warning disable 1591
namespace BoardWatcher.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\_Imports.razor"
using BoardWatcher;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\_Imports.razor"
using BoardWatcher.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
using BoardWatcher.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
using System.Net.WebSockets;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
using System.Text;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
using System.Threading;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/chess")]
    [Microsoft.AspNetCore.Components.RouteAttribute("/chess/{gameId}")]
    public partial class Chess : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
#nullable restore
#line 11 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
 if (gameId != null)
{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "center");
            __builder.AddAttribute(2, "b-n0nxo8uhw8");
            __builder.OpenElement(3, "h1");
            __builder.AddAttribute(4, "b-n0nxo8uhw8");
            __builder.AddContent(5, "Game ID: ");
            __builder.AddContent(6, 
#nullable restore
#line 14 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                      gameId

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 16 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
}

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
 if (gameBoard == null)
{

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(7, "<p b-n0nxo8uhw8><em b-n0nxo8uhw8>Loading...</em></p>");
#nullable restore
#line 20 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
}
else
{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(8, "div");
            __builder.AddAttribute(9, "class", "flex-container");
            __builder.AddAttribute(10, "b-n0nxo8uhw8");
            __builder.OpenElement(11, "div");
            __builder.AddAttribute(12, "class", "flex-child");
            __builder.AddAttribute(13, "b-n0nxo8uhw8");
            __builder.OpenElement(14, "table");
            __builder.AddAttribute(15, "class", "chess-board");
            __builder.AddAttribute(16, "b-n0nxo8uhw8");
            __builder.OpenElement(17, "tbody");
            __builder.AddAttribute(18, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(19, @"<tr b-n0nxo8uhw8><th b-n0nxo8uhw8></th>
                        <th b-n0nxo8uhw8>a</th>
                        <th b-n0nxo8uhw8>b</th>
                        <th b-n0nxo8uhw8>c</th>
                        <th b-n0nxo8uhw8>d</th>
                        <th b-n0nxo8uhw8>e</th>
                        <th b-n0nxo8uhw8>f</th>
                        <th b-n0nxo8uhw8>g</th>
                        <th b-n0nxo8uhw8>h</th></tr>

                    ");
            __builder.OpenElement(20, "tr");
            __builder.AddAttribute(21, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(22, "<th b-n0nxo8uhw8>8</th>");
#nullable restore
#line 41 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                         for (var i = 0; i < 8; i++)
                        {
                            if (i % 2 == 0)
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(23, "td");
            __builder.AddAttribute(24, "class", "light");
            __builder.AddAttribute(25, "b-n0nxo8uhw8");
            __builder.AddContent(26, 
#nullable restore
#line 45 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                   GetPiece(gameBoard[0 + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.OpenElement(27, "td");
            __builder.AddAttribute(28, "class", "dark");
            __builder.AddAttribute(29, "b-n0nxo8uhw8");
            __builder.AddContent(30, 
#nullable restore
#line 45 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                                                                             GetPiece(gameBoard[1 +
                    i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 47 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                            }
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(31, "\r\n                    ");
            __builder.OpenElement(32, "tr");
            __builder.AddAttribute(33, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(34, "<th b-n0nxo8uhw8>7</th>");
#nullable restore
#line 52 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                         for (var i = 0; i < 8; i++)
                        {
                            if (i % 2 == 0)
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(35, "td");
            __builder.AddAttribute(36, "class", "dark");
            __builder.AddAttribute(37, "b-n0nxo8uhw8");
            __builder.AddContent(38, 
#nullable restore
#line 56 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                  GetPiece(gameBoard[8 + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.OpenElement(39, "td");
            __builder.AddAttribute(40, "class", "light");
            __builder.AddAttribute(41, "b-n0nxo8uhw8");
            __builder.AddContent(42, 
#nullable restore
#line 56 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                                                                             GetPiece(gameBoard[9 +
                    i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 58 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                            }
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(43, "\r\n                    ");
            __builder.OpenElement(44, "tr");
            __builder.AddAttribute(45, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(46, "<th b-n0nxo8uhw8>6</th>");
#nullable restore
#line 63 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                         for (var i = 0; i < 8; i++)
                        {
                            if (i % 2 == 0)
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(47, "td");
            __builder.AddAttribute(48, "class", "light");
            __builder.AddAttribute(49, "b-n0nxo8uhw8");
            __builder.AddContent(50, 
#nullable restore
#line 67 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                   GetPiece(gameBoard[16 + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.OpenElement(51, "td");
            __builder.AddAttribute(52, "class", "dark");
            __builder.AddAttribute(53, "b-n0nxo8uhw8");
            __builder.AddContent(54, 
#nullable restore
#line 67 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                                                                              GetPiece(gameBoard[17
                    + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 69 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                            }
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(55, "\r\n                    ");
            __builder.OpenElement(56, "tr");
            __builder.AddAttribute(57, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(58, "<th b-n0nxo8uhw8>5</th>");
#nullable restore
#line 74 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                         for (var i = 0; i < 8; i++)
                        {
                            if (i % 2 == 0)
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(59, "td");
            __builder.AddAttribute(60, "class", "dark");
            __builder.AddAttribute(61, "b-n0nxo8uhw8");
            __builder.AddContent(62, 
#nullable restore
#line 78 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                  GetPiece(gameBoard[24 + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.OpenElement(63, "td");
            __builder.AddAttribute(64, "class", "light");
            __builder.AddAttribute(65, "b-n0nxo8uhw8");
            __builder.AddContent(66, 
#nullable restore
#line 78 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                                                                              GetPiece(gameBoard[25
                    + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 80 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                            }
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(67, "\r\n                    ");
            __builder.OpenElement(68, "tr");
            __builder.AddAttribute(69, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(70, "<th b-n0nxo8uhw8>4</th>");
#nullable restore
#line 85 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                         for (var i = 0; i < 8; i++)
                        {
                            if (i % 2 == 0)
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(71, "td");
            __builder.AddAttribute(72, "class", "light");
            __builder.AddAttribute(73, "b-n0nxo8uhw8");
            __builder.AddContent(74, 
#nullable restore
#line 89 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                   GetPiece(gameBoard[32 + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.OpenElement(75, "td");
            __builder.AddAttribute(76, "class", "dark");
            __builder.AddAttribute(77, "b-n0nxo8uhw8");
            __builder.AddContent(78, 
#nullable restore
#line 89 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                                                                              GetPiece(gameBoard[33
                    + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 91 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                            }
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(79, "\r\n                    ");
            __builder.OpenElement(80, "tr");
            __builder.AddAttribute(81, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(82, "<th b-n0nxo8uhw8>3</th>");
#nullable restore
#line 96 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                         for (var i = 0; i < 8; i++)
                        {
                            if (i % 2 == 0)
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(83, "td");
            __builder.AddAttribute(84, "class", "dark");
            __builder.AddAttribute(85, "b-n0nxo8uhw8");
            __builder.AddContent(86, 
#nullable restore
#line 100 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                  GetPiece(gameBoard[40 + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.OpenElement(87, "td");
            __builder.AddAttribute(88, "class", "light");
            __builder.AddAttribute(89, "b-n0nxo8uhw8");
            __builder.AddContent(90, 
#nullable restore
#line 100 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                                                                              GetPiece(gameBoard[41
                    + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 102 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                            }
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(91, "\r\n                    ");
            __builder.OpenElement(92, "tr");
            __builder.AddAttribute(93, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(94, "<th b-n0nxo8uhw8>2</th>");
#nullable restore
#line 107 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                         for (var i = 0; i < 8; i++)
                        {
                            if (i % 2 == 0)
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(95, "td");
            __builder.AddAttribute(96, "class", "light");
            __builder.AddAttribute(97, "b-n0nxo8uhw8");
            __builder.AddContent(98, 
#nullable restore
#line 111 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                   GetPiece(gameBoard[48 + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.OpenElement(99, "td");
            __builder.AddAttribute(100, "class", "dark");
            __builder.AddAttribute(101, "b-n0nxo8uhw8");
            __builder.AddContent(102, 
#nullable restore
#line 111 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                                                                              GetPiece(gameBoard[49
                    + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 113 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                            }
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(103, "\r\n                    ");
            __builder.OpenElement(104, "tr");
            __builder.AddAttribute(105, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(106, "<th b-n0nxo8uhw8>1</th>");
#nullable restore
#line 118 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                         for (var i = 0; i < 8; i++)
                        {
                            if (i % 2 == 0)
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(107, "td");
            __builder.AddAttribute(108, "class", "dark");
            __builder.AddAttribute(109, "b-n0nxo8uhw8");
            __builder.AddContent(110, 
#nullable restore
#line 122 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                  GetPiece(gameBoard[56 + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.OpenElement(111, "td");
            __builder.AddAttribute(112, "class", "light");
            __builder.AddAttribute(113, "b-n0nxo8uhw8");
            __builder.AddContent(114, 
#nullable restore
#line 122 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                                                                              GetPiece(gameBoard[57
                    + i])

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 124 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                            }
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(115, "\r\n            ");
            __builder.OpenElement(116, "div");
            __builder.AddAttribute(117, "class", "stateMenu");
            __builder.AddAttribute(118, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(119, "<button class=\"btn btn-primary\" b-n0nxo8uhw8><span class=\"oi oi-media-skip-backward\" aria-hidden=\"true\" b-n0nxo8uhw8></span></button>\r\n                ");
            __builder.OpenElement(120, "button");
            __builder.AddAttribute(121, "class", "btn btn-primary");
            __builder.AddAttribute(122, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 131 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                          moveBackwards

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(123, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(124, "<span class=\"oi oi-media-step-backward\" aria-hidden=\"true\" b-n0nxo8uhw8></span>");
            __builder.CloseElement();
            __builder.AddMarkupContent(125, "\r\n                ");
            __builder.OpenElement(126, "button");
            __builder.AddAttribute(127, "class", "btn btn-primary");
            __builder.AddAttribute(128, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 133 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                          moveForward

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(129, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(130, "<span class=\"oi oi-media-step-forward\" aria-hidden=\"true\" b-n0nxo8uhw8></span>");
            __builder.CloseElement();
            __builder.AddMarkupContent(131, "\r\n                ");
            __builder.AddMarkupContent(132, "<button class=\"btn btn-primary\" b-n0nxo8uhw8><span class=\"oi oi-media-skip-forward\" aria-hidden=\"true\" b-n0nxo8uhw8></span></button>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(133, "\r\n        ");
            __builder.OpenElement(134, "div");
            __builder.AddAttribute(135, "class", "flex-child");
            __builder.AddAttribute(136, "b-n0nxo8uhw8");
            __builder.OpenElement(137, "table");
            __builder.AddAttribute(138, "class", "table");
            __builder.AddAttribute(139, "b-n0nxo8uhw8");
            __builder.AddMarkupContent(140, "<thead b-n0nxo8uhw8><tr b-n0nxo8uhw8><th b-n0nxo8uhw8>Move</th>\r\n                        <th b-n0nxo8uhw8>Whites</th>\r\n                        <th b-n0nxo8uhw8>Blacks</th></tr></thead>\r\n                ");
            __builder.OpenElement(141, "tbody");
            __builder.AddAttribute(142, "b-n0nxo8uhw8");
#nullable restore
#line 148 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                     for (int index = 0; index < MovesInNotation.Count - 1; index += 2)
                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(143, "tr");
            __builder.AddAttribute(144, "b-n0nxo8uhw8");
            __builder.OpenElement(145, "td");
            __builder.AddAttribute(146, "b-n0nxo8uhw8");
            __builder.AddContent(147, 
#nullable restore
#line 151 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                  index / 2

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(148, ".");
            __builder.CloseElement();
            __builder.AddMarkupContent(149, "\r\n                            ");
            __builder.OpenElement(150, "td");
            __builder.AddAttribute(151, "b-n0nxo8uhw8");
            __builder.AddContent(152, 
#nullable restore
#line 152 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                 MovesInNotation[index]

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(153, "\r\n                            ");
            __builder.OpenElement(154, "td");
            __builder.AddAttribute(155, "b-n0nxo8uhw8");
            __builder.AddContent(156, 
#nullable restore
#line 153 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                 MovesInNotation[index + 1]

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 155 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(157, "\r\n            ");
            __builder.OpenElement(158, "div");
            __builder.AddAttribute(159, "class", "center");
            __builder.AddAttribute(160, "b-n0nxo8uhw8");
            __builder.OpenElement(161, "button");
            __builder.AddAttribute(162, "class", "btn btn-primary");
            __builder.AddAttribute(163, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 159 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
                                                          DownloadFile

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(164, "b-n0nxo8uhw8");
            __builder.AddContent(165, "Download PGN File");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 163 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 165 "C:\Users\Vander\Documents\Programming\C#\BoardWatcher\Pages\Chess.razor"
       
    private Piece[] gameBoard;
    private Move[] MovesHistory;
    private List<string> MovesInNotation = new List<string>();
    private int moveCounter;

    [Parameter]
    public string gameId { get; set; }

    private CancellationTokenSource disposalTokenSource = new CancellationTokenSource();
    private ClientWebSocket webSocket = new ClientWebSocket();
    private  string message = "Hello, websocket!";
    private string log = "";
    protected override async Task OnInitializedAsync()
    {
        gameBoard = await GameStateService.GetPieceData();
        moveCounter = 0;
        Move[] moves = new Move[]
        {
            new Move(1 ,48, 40),
            new Move(1, 9, 17),
            new Move(1, 50, 42),
            new Move(4, 2, 16),
            new Move(3 ,62, 47),
            new Move(4, 16, 52),
            new Move(4, 61, 52)
        };
        MovesHistory = moves;
        foreach (Move move in MovesHistory)
        {
            MovesInNotation.Add(getMoveInNotation(move));
        }
        await webSocket.ConnectAsync(new Uri("wss://echo.websocket.org"), disposalTokenSource.Token);
        _ = ReceiveLoop();
    }


    public void moveForward()
    {
        if (moveCounter < MovesHistory.Length)
        {
            Move currentMove = MovesHistory[moveCounter];
            this.gameBoard[currentMove.toField] = this.gameBoard[currentMove.fromField];
            this.gameBoard[currentMove.fromField] = getClearField();
            if (moveCounter < MovesHistory.Length) moveCounter++;
        }
    }
    public void moveBackwards()
    {
        if (moveCounter > 0) moveCounter--;
    }

    async Task ReceiveLoop()
    {
        var buffer = new ArraySegment<byte>(new byte[1024]);
        while (!disposalTokenSource.IsCancellationRequested)
        {
            var received = await webSocket.ReceiveAsync(buffer, disposalTokenSource.Token);
            var receivedAsText = Encoding.UTF8.GetString(buffer.Array, 0, received.Count);
            log += $"Received: {receivedAsText}\n";
            StateHasChanged();
        }
    }

    public void moveFastForward()
    {
        moveCounter = MovesHistory.Length;
    }

    public void moveFastBackwards()
    {
        moveCounter = 0;
    }

    public Piece getClearField()
    {
        return new Piece(0, false);
    }

    public string getMoveInNotation(Move move)
    {
        string fieldName = "";
        fieldName += getPieceName(move.pieceId);
        if (gameBoard[move.toField].Id != 0) // check if capture
        {
            fieldName += "x";
        }
        fieldName += ((char)(move.toField % 8 + 97));
        fieldName += (8 - move.toField / 8).ToString();
        return fieldName;
    }

    public async void DownloadFile()
    {
        string fileContent = "";
        foreach (string move in MovesInNotation)
        {
            fileContent += move;
            fileContent += " ";
        }
        await JSRuntime.InvokeAsync<object>("FileSave", "PGN", fileContent);
    }

    public string getPieceName(int pieceId)
    {
        switch (pieceId)
        {
            case 0:
                return "";
            case 1:
                return ""; // pawn
            case 2:
                return "R"; // rook
            case 3:
                return "N"; // knight
            case 4:
                return "B"; // bishop
            case 5:
                return "Q"; // queen
            case 6:
                return "K"; // king
        }
        return "";
    }

    public string GetPiece(Piece piece)
    {
        if (piece.Color)
        {
            switch (piece.Id)
            {
                case 1:
                    return "♙";
                case 2:
                    return "♖";
                case 3:
                    return "♘";
                case 4:
                    return "♗";
                case 5:
                    return "♕";
                case 6:
                    return "♔";
                default:
                    return "";
            }
        }
        else
        {
            switch (piece.Id)
            {
                case 1:
                    return "♟";
                case 2:
                    return "♜";
                case 3:
                    return "♞";
                case 4:
                    return "♝";
                case 5:
                    return "♛";
                case 6:
                    return "♚";
                default:
                    return "";
            }
        }
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ChessGameStateService GameStateService { get; set; }
    }
}
#pragma warning restore 1591
